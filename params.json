{"name":"Easy PACS","tagline":"Easiest way to store dicom files. A new open-source dicom listener PACS Server build with DCM4CHE tools","body":"### Welcome to EasyPACS.\r\nEasy PACS allows you to setup a PACS Server which you can view your dicom images online. It uses DCM4CHE tools with the latest frameworks such as Spring Boot and Gradle Build Environment. No need to setup a server anymore, the jar file is the file you only need and it contains the web-server itself. Thanks to Spring Boot, it enables the jar file to become both a listener (server) and web at the same time. \r\n\r\n### Download\r\nDownload [easy-pacs-0-0-1-snapshot.jar](https://s3-us-west-2.amazonaws.com/easypacs/easy.pacs-0.0.1-SNAPSHOT.jar)\r\nYou can run your jar file with any 32 bit support wrapper. Your EasyPACS server will listen the ports 104, 1111, 2222, 3333 for your incoming dicom files. You can enter your dicom server via **http://localhost:8085/**  \r\n\r\n### Object Model\r\nThe server accepts all the dicom files and produces all the required database entities. The dicom entities are generated with JPA related entities such as _**Patient, Study, Series, Equipment and Instance**_.  \r\n\r\n### Database is MYSQL\r\nPlease run the below sql queries to generate your tables\r\n```\r\nCREATE TABLE tbl_patient (pkTBLPatientID BIGINT AUTO_INCREMENT NOT NULL, createdDate DATETIME, modifiedDate DATETIME, patientAge VARCHAR(10), patientBirthday DATE, patientID VARCHAR(100), patientName VARCHAR(100), patientSex VARCHAR(10), PRIMARY KEY (pkTBLPatientID))\r\nCREATE TABLE tbl_study (pkTBLStudyID BIGINT AUTO_INCREMENT NOT NULL, accessionNumber VARCHAR(30), additionalPatientHistory VARCHAR(300), admittingDiagnosesDescription VARCHAR(200), createdDate DATETIME, modifiedDate DATETIME, referringPhysicianName VARCHAR(100), studyDateTime DATETIME, studyDescription VARCHAR(300), studyID VARCHAR(50), studyInstanceUID VARCHAR(100), studyPriorityID VARCHAR(40), studyStatusID VARCHAR(40), pkTBLPatientID BIGINT, PRIMARY KEY (pkTBLStudyID))\r\nCREATE TABLE tbl_series (pkTBLSeriesID BIGINT AUTO_INCREMENT NOT NULL, bodyPartExamined VARCHAR(40), createdDate DATETIME, laterality VARCHAR(100), modifiedDate DATETIME, operatorsName VARCHAR(50), patientPosition VARCHAR(30), protocolName VARCHAR(100), seriesDateTime DATETIME, seriesDescription VARCHAR(100), seriesInstanceUID VARCHAR(100), seriesNumber INTEGER, pkTBLStudyID BIGINT, PRIMARY KEY (pkTBLSeriesID))\r\nCREATE TABLE tbl_equipment (pkTBLEquipmentID BIGINT AUTO_INCREMENT NOT NULL, conversionType VARCHAR(50), createdDate DATETIME, deviceSerialNumber VARCHAR(100), institutionAddress VARCHAR(150), institutionName VARCHAR(100), institutionalDepartmentName VARCHAR(50), manufacturer VARCHAR(100), manufacturerModelName VARCHAR(100), modality VARCHAR(50), modifiedDate DATETIME, softwareVersion VARCHAR(100), stationName VARCHAR(60), pkTBLSeriesID BIGINT, PRIMARY KEY (pkTBLEquipmentID))\r\nCREATE TABLE tbl_instance (pkTBLInstanceID BIGINT AUTO_INCREMENT NOT NULL, acquisitionDateTime DATETIME, contentDateTime DATETIME, createdDate DATETIME, exposureTime INTEGER, imageOrientation VARCHAR(40), imagePosition VARCHAR(80), imageType VARCHAR(40), instanceNumber INTEGER, kvp VARCHAR(40), mediaStorageSopInstanceUID VARCHAR(100), modifiedDate DATETIME, patientOrientation VARCHAR(40), pixelSpacing FLOAT, sliceLocation FLOAT, sliceThickness FLOAT, sopClassUID VARCHAR(100), sopInstanceUID VARCHAR(100), transferSyntaxUID VARCHAR(100), windowCenter VARCHAR(40), windowWidth VARCHAR(40), xrayTubeCurrent INTEGER, pkTBLSeriesID BIGINT, PRIMARY KEY (pkTBLInstanceID))\r\nALTER TABLE tbl_study ADD CONSTRAINT FK_tbl_study_pkTBLPatientID FOREIGN KEY (pkTBLPatientID) REFERENCES tbl_patient (pkTBLPatientID)\r\nALTER TABLE tbl_series ADD CONSTRAINT FK_tbl_series_pkTBLStudyID FOREIGN KEY (pkTBLStudyID) REFERENCES tbl_study (pkTBLStudyID)\r\nALTER TABLE tbl_equipment ADD CONSTRAINT FK_tbl_equipment_pkTBLSeriesID FOREIGN KEY (pkTBLSeriesID) REFERENCES tbl_series (pkTBLSeriesID)\r\nALTER TABLE tbl_instance ADD CONSTRAINT FK_tbl_instance_pkTBLSeriesID FOREIGN KEY (pkTBLSeriesID) REFERENCES tbl_series (pkTBLSeriesID)\r\n\r\n```\r\n\r\n### Easy PACS Dicom Logic\r\nDicom entity structure is known as:\r\n```\r\nPatient --> NxStudy --> MxSeries --> ZxInstances \r\nSeries --> Equipment\r\n1 Patient can contain N of Studies, \r\n1 Study can contain M of Series\r\n1 Series can contain Z of Instances\r\n1 Series can contain 1 Equipment\r\n```\r\n\r\n### Entity Diagram\r\n![Easy PACS Entity Diagram](https://2kere2beseder.files.wordpress.com/2015/04/easypacsorm_final.jpg)\r\n    \r\n### How to Setup Java Environment\r\nJava platform is tricky. It uses 32 bit Java environment along with needed _**clib_**_ files to enable the image file conversions\r\n\r\n1. Put 32 bit  [clib_jiio.dll, clib_jiio_sse2.dll, clib_jiio_util.dll](https://2kere2beseder.files.wordpress.com/2015/04/clib_files.zip) dll files under C:\\Program Files (x86)\\Java\\jdk1.8.0_45\\bin\r\n2. Put [clibwrapper_jiio.jar, jai_imageio.jar](https://2kere2beseder.files.wordpress.com/2015/04/clib_files.zip) jar files under  C:\\Program Files (x86)\\Java\\jdk1.8.0_45\\jre\\lib\\ext\\\r\n\r\n\r\n### Environmental Variables:\r\nMake sure that your Environmental Variables are setup correctly\r\n```\r\nUser Defined\r\nVariable Name:  JAVA_HOME\r\nVariable Value: C:\\Program Files (x86)\\Java\\jdk1.8.0_45\r\n```\r\n\r\n```\r\nSystem variables\r\nVariable Name:  CLASSPATH\r\nVariable Value: %JAVA_HOME%\\jre\\bin\r\n```\r\n\r\n## Let's run our jar file\r\n* First download [application.properties](https://s3-us-west-2.amazonaws.com/easypacs/application.properties)  file and update your MYSQL connection string username, password and ip address \r\n```\r\ndatasource.primary.url=jdbc:mysql://localhost:3306/dbdicom\r\ndatasource.primary.username=[username]\r\ndatasource.primary.password=[password]\r\n```\r\nchange pacs port number if needed (make sure port 104 is not being used) Your dicom PACS server will listen this port\r\n```\r\npacs.ports = 104\r\n```\r\nYou can also update your ae title, here we put **'*'** that refers to any name of ae title\r\n```\r\npacs.aetitle = *\r\n```\r\nLikewise, you can change the dicom and image storage paths if needed\r\n```\r\npacs.storage.dcm = ./tmp/dcm\r\npacs.storage.image = ./tmp/img\r\n```\r\nYou can also update your web server's port. You will access your server from _**http://localhost:8085**_\r\n```\r\nserver.port=8085 \r\n```\r\n\r\n\r\n* Now, download the latest version of [easy.pacs-[version]-SNAPSHOT.jar](https://s3-us-west-2.amazonaws.com/easypacs/easy.pacs-0.0.1-SNAPSHOT.jar)\r\n\r\n* We are finished our settings, we can run now from the command line!\r\n```\r\n# java -jar easy.pacs-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\nTHAT IS IT!\r\n\r\n* Go now to  _**http://localhost:8085**_  You will see such a screen:\r\n","google":"UA-26578001-1","note":"Don't delete this file! It's used internally to help with page regeneration."}